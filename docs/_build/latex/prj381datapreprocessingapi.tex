%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{PRJ381 Data Preprocessing API}
\date{Oct 26, 2025}
\release{1.0.0}
\author{Martinus Christoffel Wolmarans}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxAtStartPar
Welcome to the documentation for the PRJ381 Data Preprocessing API, a comprehensive FastAPI\sphinxhyphen{}based service for collecting and enriching species observation data for machine learning and transfer learning applications.

\sphinxstepscope


\chapter{Overview}
\label{\detokenize{overview:overview}}\label{\detokenize{overview::doc}}

\section{Project Purpose}
\label{\detokenize{overview:project-purpose}}
\sphinxAtStartPar
The PRJ381 Species Distribution Modeling API is a production\sphinxhyphen{}ready FastAPI service designed for invasive species risk assessment and transfer learning. It provides a complete pipeline for creating ML\sphinxhyphen{}ready datasets from global biodiversity data enriched with real environmental variables (WorldClim climate + SRTM elevation).


\section{Key Features}
\label{\detokenize{overview:key-features}}

\subsection{Data Collection}
\label{\detokenize{overview:data-collection}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{GBIF Integration}: Fetches global species occurrence data from the GBIF database (1.4+ billion records)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Transfer Learning Focus}: Global training data for local validation (e.g., global \(\rightarrow\) South Africa)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Asynchronous Processing}: Batch processing with progress tracking

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Data Validation}: Coordinate validation and quality filtering

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{CSV Export}: Direct ML\sphinxhyphen{}ready dataset generation

\end{itemize}


\subsection{Environmental Enrichment}
\label{\detokenize{overview:environmental-enrichment}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{WorldClim v2.1 Integration}: Real bioclimate variable extraction from scientific\sphinxhyphen{}grade GeoTIFF rasters

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{SRTM Elevation Data}: NASA SRTM 30m elevation via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{8 Core Climate Variables}: Temperature, precipitation, and seasonality (bio1, bio4\sphinxhyphen{}6, bio12\sphinxhyphen{}15)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Global Coverage}: Worldwide environmental data at 10 arcminute resolution

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Missing Values}: Some grid cells may be unavailable; these are returned as None

\end{itemize}


\subsection{Machine Learning Pipeline}
\label{\detokenize{overview:machine-learning-pipeline}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{ML\sphinxhyphen{}Ready Datasets}: CSV exports optimized for XGBoost and other tree\sphinxhyphen{}based models

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{13 Base Features}: Latitude, longitude, elevation, 8 bioclimate variables, temporal encoding

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Transfer Learning Support}: Global training datasets for local validation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Production Model}: XGBoost classifier (81\% accuracy, 98\% sensitivity)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Risk Mapping}: Real\sphinxhyphen{}time invasion probability heatmaps

\end{itemize}


\subsection{Data Management}
\label{\detokenize{overview:data-management}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{File\sphinxhyphen{}Based Storage}: Direct CSV export for ML training (no database required)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Batch Processing}: Efficient handling of large\sphinxhyphen{}scale environmental data extraction

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{API Rate Limiting}: Respectful Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API usage (1\sphinxhyphen{}second delays)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Stateless Design}: Docker\sphinxhyphen{}ready, horizontally scalable architecture

\end{itemize}


\subsection{API Architecture}
\label{\detokenize{overview:api-architecture}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{FastAPI Framework}: Modern, high\sphinxhyphen{}performance async web framework with automatic documentation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Workflow\sphinxhyphen{}Guided Interface}: Clear step\sphinxhyphen{}by\sphinxhyphen{}step API organization for optimal user experience

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Modular Design}: Separated routers for different data types and processing stages

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Comprehensive Documentation}: Swagger UI and ReDoc interfaces with detailed examples

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Error Handling}: Robust error handling with detailed logging and user feedback

\end{itemize}


\section{Data provenance}
\label{\detokenize{overview:data-provenance}}
\sphinxAtStartPar
This project uses publicly available datasets for environmental and species data:
\begin{itemize}
\item {} 
\sphinxAtStartPar
WorldClim v2.1 (bioclimate rasters)

\item {} 
\sphinxAtStartPar
SRTM elevation via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data

\item {} 
\sphinxAtStartPar
GBIF (occurrence records)

\end{itemize}


\section{Use Cases}
\label{\detokenize{overview:use-cases}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Species Distribution Modeling}: Create training datasets for invasion risk assessment

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Transfer Learning Applications}: Global training data for local model validation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Climate Change Research}: Environmental data integration for climate impact studies

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Conservation Planning}: Data\sphinxhyphen{}driven approaches to species management

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Ecological Research}: Multi\sphinxhyphen{}source data fusion for comprehensive ecological analysis

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Machine Learning Development}: High\sphinxhyphen{}quality, feature\sphinxhyphen{}rich datasets for algorithm development

\end{itemize}


\section{Technical Highlights}
\label{\detokenize{overview:technical-highlights}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Async/Await}: Full asynchronous processing for optimal performance

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Concurrent API Calls}: 3\sphinxhyphen{}5x speedup through parallel processing

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Professional Documentation}: Auto\sphinxhyphen{}generated API docs with Sphinx

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Robust Error Handling}: Graceful handling of API failures and data inconsistencies

\end{itemize}

\sphinxstepscope


\chapter{User Guide}
\label{\detokenize{user_guide:user-guide}}\label{\detokenize{user_guide::doc}}

\section{Installation}
\label{\detokenize{user_guide:installation}}

\subsection{Prerequisites}
\label{\detokenize{user_guide:prerequisites}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Python 3.12 or higher

\item {} 
\sphinxAtStartPar
Internet connection for Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API access

\item {} 
\sphinxAtStartPar
At least 500MB free disk space for WorldClim data

\item {} 
\sphinxAtStartPar
WorldClim v2.1 GeoTIFF files (bio variables 1, 4\sphinxhyphen{}6, 12\sphinxhyphen{}15)

\end{itemize}


\subsection{Setup Steps}
\label{\detokenize{user_guide:setup-steps}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Clone the Repository}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{git} \PYG{n}{clone} \PYG{n}{https}\PYG{p}{:}\PYG{o}{/}\PYG{o}{/}\PYG{n}{github}\PYG{o}{.}\PYG{n}{com}\PYG{o}{/}\PYG{n}{Mc141}\PYG{o}{/}\PYG{n}{PRJ381}\PYG{o}{\PYGZhy{}}\PYG{n}{data}\PYG{o}{\PYGZhy{}}\PYG{n}{preprocessing}\PYG{o}{.}\PYG{n}{git}
\PYG{n}{cd} \PYG{n}{PRJ381}\PYG{o}{\PYGZhy{}}\PYG{n}{data}\PYG{o}{\PYGZhy{}}\PYG{n}{preprocessing}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Install Dependencies}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{pip} \PYG{n}{install} \PYG{o}{\PYGZhy{}}\PYG{n}{r} \PYG{n}{requirements}\PYG{o}{.}\PYG{n}{txt}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Download WorldClim Data}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Download from: https://worldclim.org/data/worldclim21.html}
\PYG{c+c1}{\PYGZsh{} Place files in: data/worldclim/}
\PYG{c+c1}{\PYGZsh{} Required: wc2.1\PYGZus{}10m\PYGZus{}bio\PYGZus{}1.tif, bio\PYGZus{}4.tif, bio\PYGZus{}5.tif, bio\PYGZus{}6.tif,}
\PYG{c+c1}{\PYGZsh{}           bio\PYGZus{}12.tif, bio\PYGZus{}13.tif, bio\PYGZus{}14.tif, bio\PYGZus{}15.tif}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Run the Application}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{uvicorn} \PYG{n}{app}\PYG{o}{.}\PYG{n}{main}\PYG{p}{:}\PYG{n}{app} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{reload} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{port} \PYG{l+m+mi}{8000}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Access Documentation}:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Swagger UI: \sphinxurl{http://localhost:8000/docs}

\item {} 
\sphinxAtStartPar
ReDoc: \sphinxurl{http://localhost:8000/redoc}

\end{itemize}

\end{enumerate}


\section{ML Pipeline Workflow}
\label{\detokenize{user_guide:ml-pipeline-workflow}}
\sphinxAtStartPar
The API follows a structured workflow for creating machine learning datasets:


\subsection{Step 1: System Health Check}
\label{\detokenize{user_guide:step-1-system-health-check}}
\sphinxAtStartPar
Verify system status and dependencies:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{GET} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{status}\PYG{o}{/}\PYG{n}{health}
\end{sphinxVerbatim}


\subsection{Step 2: Collect Species Data}
\label{\detokenize{user_guide:step-2-collect-species-data}}
\sphinxAtStartPar
Fetch global species occurrence data from GBIF:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
GET /api/v1/gbif/occurrences?store\PYGZus{}in\PYGZus{}db=true\PYGZam{}max\PYGZus{}results=2000
\end{sphinxVerbatim}

\sphinxAtStartPar
This collects \textasciitilde{}1,700+ global occurrence records for training.


\subsection{Step 3: Download Environmental Data}
\label{\detokenize{user_guide:step-3-download-environmental-data}}
\sphinxAtStartPar
Download WorldClim v2.1 climate data:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{POST} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{worldclim}\PYG{o}{/}\PYG{n}{ensure}\PYG{o}{\PYGZhy{}}\PYG{n}{data}
\end{sphinxVerbatim}

\sphinxAtStartPar
Downloads \textasciitilde{}900MB of real bioclimate data to your local system.


\subsection{Step 4: Generate ML\sphinxhyphen{}Ready Datasets}
\label{\detokenize{user_guide:step-4-generate-ml-ready-datasets}}
\sphinxAtStartPar
Generate training and validation CSV files:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{POST} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{datasets}\PYG{o}{/}\PYG{n}{generate}\PYG{o}{\PYGZhy{}}\PYG{n}{ml}\PYG{o}{\PYGZhy{}}\PYG{n}{ready}
\PYG{n}{Body}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{max\PYGZus{}global}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{2000}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{max\PYGZus{}local}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{500}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Creates enriched datasets with 13 features (location, climate, temporal, elevation).


\subsection{Step 5: Generate Predictions}
\label{\detokenize{user_guide:step-5-generate-predictions}}
\sphinxAtStartPar
Use trained XGBoost model for invasion risk mapping:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
GET /api/v1/predictions/heatmap?model\PYGZus{}name=xgboost
\end{sphinxVerbatim}

\sphinxAtStartPar
Generates probability heatmap for invasion risk assessment.


\section{Data sources}
\label{\detokenize{user_guide:data-sources}}
\sphinxAtStartPar
This project uses WorldClim v2.1 climate data, SRTM elevation via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data, and GBIF occurrence records. See the Architecture and Overview sections for details.


\subsection{Basic Usage Examples}
\label{\detokenize{user_guide:basic-usage-examples}}
\sphinxAtStartPar
Check system status:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{GET} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{status}\PYG{o}{/}\PYG{n}{health}
\PYG{n}{GET} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{status}\PYG{o}{/}\PYG{n}{service}\PYG{o}{\PYGZhy{}}\PYG{n}{info}
\end{sphinxVerbatim}

\sphinxAtStartPar
Extract environmental data:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{POST} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{environmental}\PYG{o}{/}\PYG{n}{extract}\PYG{o}{\PYGZhy{}}\PYG{n}{batch}
\PYG{n}{Body}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{coordinates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}
    \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{latitude}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{33.925}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{longitude}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mf}{18.424}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{latitude}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{34.056}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{longitude}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mf}{18.472}\PYG{p}{\PYGZcb{}}
\PYG{p}{]}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Generate datasets:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{POST} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{datasets}\PYG{o}{/}\PYG{n}{generate}\PYG{o}{\PYGZhy{}}\PYG{n}{ml}\PYG{o}{\PYGZhy{}}\PYG{n}{ready}
\PYG{n}{Body}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{max\PYGZus{}global}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{1000}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{max\PYGZus{}local}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{250}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{verbose}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Generate prediction heatmap:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{GET} \PYG{o}{/}\PYG{n}{api}\PYG{o}{/}\PYG{n}{v1}\PYG{o}{/}\PYG{n}{datasets}\PYG{o}{/}\PYG{n}{export}
\end{sphinxVerbatim}


\section{Invasion Risk Heatmap (Interactive)}
\label{\detokenize{user_guide:invasion-risk-heatmap-interactive}}
\sphinxAtStartPar
The project includes an interactive, grid\sphinxhyphen{}based invasion risk heatmap powered by the XGBoost model and real environmental data (WorldClim v2.1 + SRTM elevation).


\subsection{How to Generate}
\label{\detokenize{user_guide:how-to-generate}}
\sphinxAtStartPar
From the project root, run:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{o}{\PYGZhy{}}\PYG{n}{m} \PYG{n}{models}\PYG{o}{.}\PYG{n}{xgboost}\PYG{o}{.}\PYG{n}{generate\PYGZus{}heatmap\PYGZus{}api} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{grid\PYGZus{}size} \PYG{l+m+mi}{20} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{month} \PYG{l+m+mi}{3}
\end{sphinxVerbatim}

\sphinxAtStartPar
Options:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\sphinxhyphen{}\sphinxhyphen{}grid\_size}}: Number of grid points per dimension (higher = more detail)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\sphinxhyphen{}\sphinxhyphen{}month}}: Month of year (1\sphinxhyphen{}12) for seasonality features

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\sphinxhyphen{}\sphinxhyphen{}western\_cape\_extended}} or \sphinxcode{\sphinxupquote{\sphinxhyphen{}\sphinxhyphen{}specific\_area}} with \sphinxcode{\sphinxupquote{lat/lon}} bounds

\end{itemize}


\subsection{Interactive UI Features}
\label{\detokenize{user_guide:interactive-ui-features}}
\sphinxAtStartPar
Hover Tooltip:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Category (Very Low \(\rightarrow\) Critical)

\item {} 
\sphinxAtStartPar
Probability (\%)

\item {} 
\sphinxAtStartPar
Latitude / Longitude

\end{itemize}

\sphinxAtStartPar
Click Popup (per grid cell):
\begin{itemize}
\item {} 
\sphinxAtStartPar
Risk level and probability

\item {} 
\sphinxAtStartPar
Assessment text explaining the risk category

\item {} 
\sphinxAtStartPar
Exact coordinates

\item {} 
\sphinxAtStartPar
üó∫Ô∏è ‚ÄúNavigate with Google Maps‚Äù button that opens directions to the cell location

\end{itemize}

\sphinxAtStartPar
Risk Hotspots:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Top 5 highest\sphinxhyphen{}risk points marked with color\sphinxhyphen{}coded markers

\item {} 
\sphinxAtStartPar
Popup includes rank, risk \%, and coordinates

\end{itemize}

\sphinxAtStartPar
Information Panels:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Top Center: Title with species, month, data sources (WorldClim + SRTM)

\item {} 
\sphinxAtStartPar
Top Right: Risk Category Guide with management suggestions

\item {} 
\sphinxAtStartPar
Bottom Left: Statistics (distribution by category, mean/max/min, median, std)

\item {} 
\sphinxAtStartPar
Bottom Right: Data Sources \& Methodology (provenance and disclaimer)

\end{itemize}

\sphinxAtStartPar
Legend:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Continuous color scale (0\% \(\rightarrow\) 100\%)

\item {} 
\sphinxAtStartPar
Cyan/Green for low risk \(\rightarrow\) Yellow/Orange \(\rightarrow\) Red for high to critical risk

\end{itemize}

\sphinxAtStartPar
Layers:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Invasion Risk Grid (default)

\item {} 
\sphinxAtStartPar
Satellite base layer

\item {} 
\sphinxAtStartPar
Risk Hotspots (Top 5)

\end{itemize}

\sphinxAtStartPar
Notes:
\begin{itemize}
\item {} 
\sphinxAtStartPar
Popups open on click; hover displays tooltips

\item {} 
\sphinxAtStartPar
Environmental values are pulled from the listed sources; some grid cells may have missing data

\item {} 
\sphinxAtStartPar
Use a larger \sphinxcode{\sphinxupquote{\sphinxhyphen{}\sphinxhyphen{}grid\_size}} for publication\sphinxhyphen{}quality maps (longer runtime)

\end{itemize}


\section{Advanced Usage}
\label{\detokenize{user_guide:advanced-usage}}

\subsection{Batch Processing}
\label{\detokenize{user_guide:batch-processing}}
\sphinxAtStartPar
For large datasets, use the async processing capabilities:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsh{} Process multiple years of data
GET /api/v1/datasets/merge?start\PYGZus{}year=2020\PYGZam{}start\PYGZus{}month=1\PYGZam{}start\PYGZus{}day=1\PYGZam{}end\PYGZus{}year=2024\PYGZam{}end\PYGZus{}month=12\PYGZam{}end\PYGZus{}day=31\PYGZam{}years\PYGZus{}back=10

GET /api/v1/predictions/heatmap?model\PYGZus{}name=xgboost
\end{sphinxVerbatim}


\section{Configuration}
\label{\detokenize{user_guide:configuration}}

\subsection{Environment Variables}
\label{\detokenize{user_guide:environment-variables}}
\sphinxAtStartPar
The application supports the following environment variables:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{LOG\_LEVEL}}: Logging level (default: INFO)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{API\_TIMEOUT}}: API request timeout in seconds (default: 30)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{WORLDCLIM\_PATH}}: Path to WorldClim GeoTIFF files (default: data/worldclim/)

\end{itemize}


\subsection{Data Files Required}
\label{\detokenize{user_guide:data-files-required}}
\sphinxAtStartPar
WorldClim v2.1 GeoTIFF files needed in \sphinxcode{\sphinxupquote{data/worldclim/}}:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_1.tif}}: Annual mean temperature

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_4.tif}}: Temperature seasonality

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_5.tif}}: Max temperature of warmest month

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_6.tif}}: Min temperature of coldest month

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_12.tif}}: Annual precipitation

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_13.tif}}: Precipitation of wettest month

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_14.tif}}: Precipitation of driest month

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{wc2.1\_10m\_bio\_15.tif}}: Precipitation seasonality

\end{itemize}


\section{Error Handling}
\label{\detokenize{user_guide:error-handling}}
\sphinxAtStartPar
The API provides comprehensive error handling:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{400 Bad Request}: Invalid parameters or coordinates

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{404 Not Found}: No data found or missing WorldClim files

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{500 Internal Server Error}: GeoTIFF extraction or API communication errors

\end{itemize}


\subsection{Common Issues}
\label{\detokenize{user_guide:common-issues}}
\sphinxAtStartPar
\sphinxstylestrong{WorldClim File Missing}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Check if files exist}
\PYG{n}{ls} \PYG{o}{\PYGZhy{}}\PYG{n}{lh} \PYG{n}{data}\PYG{o}{/}\PYG{n}{worldclim}\PYG{o}{/}\PYG{o}{*}\PYG{o}{.}\PYG{n}{tif}

\PYG{c+c1}{\PYGZsh{} Verify file permissions}
\PYG{n}{chmod} \PYG{l+m+mi}{644} \PYG{n}{data}\PYG{o}{/}\PYG{n}{worldclim}\PYG{o}{/}\PYG{o}{*}\PYG{o}{.}\PYG{n}{tif}
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstylestrong{API Timeout Issues}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Open\PYGZhy{}Topo\PYGZhy{}Data has 1\PYGZhy{}second rate limit}
\PYG{c+c1}{\PYGZsh{} Use batch processing with delays}
\PYG{c+c1}{\PYGZsh{} Check internet connection}
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstylestrong{Memory Issues}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Process smaller batches}
\PYG{c+c1}{\PYGZsh{} Increase system memory}
\PYG{c+c1}{\PYGZsh{} Use streaming for large coordinate lists}
\end{sphinxVerbatim}


\section{Performance Tips}
\label{\detokenize{user_guide:performance-tips}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Use batch processing for multiple coordinates (100 at a time)

\item {} 
\sphinxAtStartPar
Respect Open\sphinxhyphen{}Topo\sphinxhyphen{}Data rate limits (1\sphinxhyphen{}second delays)

\item {} 
\sphinxAtStartPar
Cache extracted environmental data

\item {} 
\sphinxAtStartPar
Monitor disk space for WorldClim files (\textasciitilde{}500MB total)

\item {} 
\sphinxAtStartPar
Use smaller sample datasets during development

\end{itemize}

\sphinxstepscope


\chapter{API Reference}
\label{\detokenize{api_reference:api-reference}}\label{\detokenize{api_reference::doc}}
\sphinxAtStartPar
This section provides comprehensive documentation for all API modules, automatically generated from the source code docstrings.


\section{Interactive API Documentation}
\label{\detokenize{api_reference:interactive-api-documentation}}
\sphinxAtStartPar
For interactive exploration of the API endpoints, use the automatically generated documentation:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Swagger UI}: \sphinxhref{http://localhost:8000/docsdocs}{/} \sphinxhyphen{} Interactive API documentation with request/response examples

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{ReDoc}: \sphinxhref{http://localhost:8000/redocredoc}{/} \sphinxhyphen{} Clean, responsive API documentation

\end{itemize}

\begin{sphinxadmonition}{note}{Note:}
\sphinxAtStartPar
The interactive documentation is automatically generated from the FastAPI application and is always up\sphinxhyphen{}to\sphinxhyphen{}date with the current API implementation.
\end{sphinxadmonition}


\section{Main Application}
\label{\detokenize{api_reference:module-app.main}}\label{\detokenize{api_reference:main-application}}\index{module@\spxentry{module}!app.main@\spxentry{app.main}}\index{app.main@\spxentry{app.main}!module@\spxentry{module}}

\subsection{PRJ381 Species Distribution Modeling API}
\label{\detokenize{api_reference:prj381-species-distribution-modeling-api}}
\sphinxAtStartPar
This FastAPI application provides a robust platform for creating machine learning datasets from global biodiversity observations, enriched with authentic environmental data for species distribution modeling and invasion risk assessment.
\begin{description}
\sphinxlineitem{Current Workflow:}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Data Collection: Fetch global species occurrences from GBIF

\item {} 
\sphinxAtStartPar
Environmental Enrichment: Add WorldClim climate \& SRTM elevation data

\item {} 
\sphinxAtStartPar
Dataset Creation: Build ML\sphinxhyphen{}ready datasets for transfer learning (direct CSV export)

\item {} 
\sphinxAtStartPar
Model Training: Export data for XGBoost model training (external)

\item {} 
\sphinxAtStartPar
Prediction \& Mapping: Generate invasion risk predictions and visualizations (API endpoints)

\end{enumerate}

\sphinxlineitem{API Organization:}\begin{itemize}
\item {} 
\sphinxAtStartPar
Core Pipeline: Status \(\rightarrow\) Environmental \(\rightarrow\) Datasets \(\rightarrow\) Predictions

\item {} 
\sphinxAtStartPar
Data Management: Status monitoring, data validation

\end{itemize}

\sphinxlineitem{Dependencies Flow:}
\sphinxAtStartPar
/status \(\rightarrow\) /environmental \(\rightarrow\) /datasets \(\rightarrow\) /predictions

\end{description}

\sphinxAtStartPar
Author: MC141
Project: PRJ381 \sphinxhyphen{} Invasive Species Distribution Modeling


\section{Routers}
\label{\detokenize{api_reference:routers}}

\subsection{Status Router}
\label{\detokenize{api_reference:status-router}}
\sphinxAtStartPar
System health monitoring and pipeline validation.
\index{module@\spxentry{module}!app.routers.status@\spxentry{app.routers.status}}\index{app.routers.status@\spxentry{app.routers.status}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.routers.status}}
\sphinxAtStartPar
Status Router for Health Checks and System Information

\sphinxAtStartPar
This module provides API endpoints for monitoring the health and operational status
of the data preprocessing service. Endpoints are designed for system monitoring,
deployment validation, and service readiness checks.
\index{health\_check() (in module app.routers.status)@\spxentry{health\_check()}\spxextra{in module app.routers.status}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.status.health_check}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.status.}}\sphinxbfcode{\sphinxupquote{health\_check}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Perform a comprehensive health check of the API service.

\sphinxAtStartPar
This endpoint verifies the operational status of the API and its dependencies, including:
\begin{itemize}
\item {} 
\sphinxAtStartPar
API responsiveness (FastAPI)

\item {} 
\sphinxAtStartPar
Required external services (GBIF, WorldClim)

\item {} 
\sphinxAtStartPar
Storage space for data downloads

\end{itemize}
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
Health status information with the current timestamp.

\sphinxlineitem{Return type}
\sphinxAtStartPar
\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#dict}{dict}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Environmental Router}
\label{\detokenize{api_reference:environmental-router}}
\sphinxAtStartPar
WorldClim and SRTM elevation data extraction for environmental enrichment.
\index{module@\spxentry{module}!app.routers.environmental@\spxentry{app.routers.environmental}}\index{app.routers.environmental@\spxentry{app.routers.environmental}!module@\spxentry{module}}

\subsubsection{Environmental Data Router}
\label{\detokenize{api_reference:environmental-data-router}}\label{\detokenize{api_reference:module-app.routers.environmental}}
\sphinxAtStartPar
API endpoints for retrieving combined environmental data (climate and elevation)
for specific coordinates. Provides a unified interface to obtain all environmental
variables required for modeling in a single API call.
\index{CoordinateListRequest (class in app.routers.environmental)@\spxentry{CoordinateListRequest}\spxextra{class in app.routers.environmental}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinateListRequest}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{class}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.environmental.}}\sphinxbfcode{\sphinxupquote{CoordinateListRequest}}}
{\sphinxparam{\DUrole{o}{**}\DUrole{n}{data}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.pydantic.dev/latest/api/base\_model/\#pydantic.BaseModel}{\sphinxcode{\sphinxupquote{BaseModel}}}
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{data}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}})

\end{description}\end{quote}
\index{coordinates (app.routers.environmental.CoordinateListRequest attribute)@\spxentry{coordinates}\spxextra{app.routers.environmental.CoordinateListRequest attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinateListRequest.coordinates}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{coordinates}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}{\hyperref[\detokenize{api_reference:app.routers.environmental.CoordinatePoint}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{CoordinatePoint}}}}}{]}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{model\_config (app.routers.environmental.CoordinateListRequest attribute)@\spxentry{model\_config}\spxextra{app.routers.environmental.CoordinateListRequest attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinateListRequest.model_config}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{model\_config}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }ClassVar{[}ConfigDict{]}}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\{\}}}}
\pysigstopsignatures
\sphinxAtStartPar
Configuration for the model, should be a dictionary conforming to {[}\sphinxtitleref{ConfigDict}{]}{[}pydantic.config.ConfigDict{]}.

\end{fulllineitems}


\end{fulllineitems}

\index{CoordinatePoint (class in app.routers.environmental)@\spxentry{CoordinatePoint}\spxextra{class in app.routers.environmental}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinatePoint}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{class}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.environmental.}}\sphinxbfcode{\sphinxupquote{CoordinatePoint}}}
{\sphinxparam{\DUrole{o}{**}\DUrole{n}{data}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.pydantic.dev/latest/api/base\_model/\#pydantic.BaseModel}{\sphinxcode{\sphinxupquote{BaseModel}}}
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{data}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}})

\end{description}\end{quote}
\index{latitude (app.routers.environmental.CoordinatePoint attribute)@\spxentry{latitude}\spxextra{app.routers.environmental.CoordinatePoint attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinatePoint.latitude}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{latitude}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{longitude (app.routers.environmental.CoordinatePoint attribute)@\spxentry{longitude}\spxextra{app.routers.environmental.CoordinatePoint attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinatePoint.longitude}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{longitude}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{model\_config (app.routers.environmental.CoordinatePoint attribute)@\spxentry{model\_config}\spxextra{app.routers.environmental.CoordinatePoint attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.CoordinatePoint.model_config}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{model\_config}}\sphinxbfcode{\sphinxupquote{\DUrole{p}{:}\DUrole{w}{ }ClassVar{[}ConfigDict{]}}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\{\}}}}
\pysigstopsignatures
\sphinxAtStartPar
Configuration for the model, should be a dictionary conforming to {[}\sphinxtitleref{ConfigDict}{]}{[}pydantic.config.ConfigDict{]}.

\end{fulllineitems}


\end{fulllineitems}

\index{extract\_environmental\_batch() (in module app.routers.environmental)@\spxentry{extract\_environmental\_batch()}\spxextra{in module app.routers.environmental}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.environmental.extract_environmental_batch}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.environmental.}}\sphinxbfcode{\sphinxupquote{extract\_environmental\_batch}}}
{\sphinxparam{\DUrole{n}{request}}\sphinxparamcomma \sphinxparam{\DUrole{n}{variables}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Extract combined climate and elevation data for multiple coordinates.
\begin{description}
\sphinxlineitem{The request body should contain a list of coordinates as:}
\sphinxAtStartPar
\{‚Äúcoordinates‚Äù: {[}\{‚Äúlatitude‚Äù: \sphinxhyphen{}33.925, ‚Äúlongitude‚Äù: 18.424\}, ‚Ä¶{]}\}

\end{description}

\sphinxAtStartPar
Returns a dictionary with request metadata and a list of results for each coordinate.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} (\DUrole{sphinx_autodoc_typehints-type}{{\hyperref[\detokenize{api_reference:app.routers.environmental.CoordinateListRequest}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{CoordinateListRequest}}}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{variables}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}{]}})

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Datasets Router}
\label{\detokenize{api_reference:datasets-router}}
\sphinxAtStartPar
ML dataset creation, enrichment, and export functionality.
\index{module@\spxentry{module}!app.routers.datasets@\spxentry{app.routers.datasets}}\index{app.routers.datasets@\spxentry{app.routers.datasets}!module@\spxentry{module}}\index{generate\_ml\_ready\_files() (in module app.routers.datasets)@\spxentry{generate\_ml\_ready\_files()}\spxextra{in module app.routers.datasets}}\phantomsection\label{\detokenize{api_reference:module-app.routers.datasets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.datasets.generate_ml_ready_files}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.datasets.}}\sphinxbfcode{\sphinxupquote{generate\_ml\_ready\_files}}}
{\sphinxparam{\DUrole{n}{max\_global}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{max\_local}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{batch\_size}\DUrole{o}{=}\DUrole{default_value}{Query(100)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{verbose}\DUrole{o}{=}\DUrole{default_value}{Query(False)}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Generate machine learning\sphinxhyphen{}ready datasets and write them to canonical CSV files.

\sphinxAtStartPar
This endpoint runs the internal dataset generator, producing standardized CSV files for model training and validation. Existing files will be overwritten.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{max\_global}} (\sphinxstyleliteralemphasis{\sphinxupquote{Optional}}\sphinxstyleliteralemphasis{\sphinxupquote{{[}}}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxstyleliteralemphasis{\sphinxupquote{int}}}\sphinxstyleliteralemphasis{\sphinxupquote{{]}}}) \textendash{} Limit the number of global records (omit for all).

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{max\_local}} (\sphinxstyleliteralemphasis{\sphinxupquote{Optional}}\sphinxstyleliteralemphasis{\sphinxupquote{{[}}}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxstyleliteralemphasis{\sphinxupquote{int}}}\sphinxstyleliteralemphasis{\sphinxupquote{{]}}}) \textendash{} Limit the number of local South African records (omit for all).

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{batch\_size}} (\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxstyleliteralemphasis{\sphinxupquote{int}}}) \textendash{} Batch size for environmental data extraction.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxstyleliteralemphasis{\sphinxupquote{bool}}}) \textendash{} Enable verbose logging for detailed output.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Status, written file paths, and a success message.

\sphinxlineitem{Return type}
\sphinxAtStartPar
Dict{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{str}, Any{]}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Predictions Router}
\label{\detokenize{api_reference:predictions-router}}
\sphinxAtStartPar
Invasion risk prediction and mapping visualization using XGBoost.
\index{module@\spxentry{module}!app.routers.predictions@\spxentry{app.routers.predictions}}\index{app.routers.predictions@\spxentry{app.routers.predictions}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.routers.predictions}}
\sphinxAtStartPar
Prediction Router for Invasive Species Spread Modeling

\sphinxAtStartPar
This module provides API endpoints and utilities for ecological niche modeling of
Pyracantha angustifolia. It leverages recent observations and environmental suitability
scoring to support global risk assessment, heatmap generation, and model training.
Endpoints include risk heatmap generation, model training, and core functions for suitability scoring and grid generation.
All documentation and comments are aligned with the current service and written in a clear, professional style.
\index{generate\_xgboost\_heatmap() (in module app.routers.predictions)@\spxentry{generate\_xgboost\_heatmap()}\spxextra{in module app.routers.predictions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.predictions.generate_xgboost_heatmap}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.predictions.}}\sphinxbfcode{\sphinxupquote{generate\_xgboost\_heatmap}}}
{\sphinxparam{\DUrole{n}{region}\DUrole{o}{=}\DUrole{default_value}{Query(western\_cape)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{lat\_min}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{lat\_max}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{lon\_min}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{lon\_max}\DUrole{o}{=}\DUrole{default_value}{Query(None)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{grid\_size}\DUrole{o}{=}\DUrole{default_value}{Query(20)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{month}\DUrole{o}{=}\DUrole{default_value}{Query(3)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{download}\DUrole{o}{=}\DUrole{default_value}{Query(False)}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Generate a high\sphinxhyphen{}resolution invasion risk heatmap using the trained XGBoost model and real\sphinxhyphen{}time environmental data.

\sphinxAtStartPar
This endpoint runs the heatmap generation script and returns the resulting HTML map. It uses the XGBoost model and up\sphinxhyphen{}to\sphinxhyphen{}date environmental data.
\begin{description}
\sphinxlineitem{Geographic Regions:}\begin{itemize}
\item {} 
\sphinxAtStartPar
western\_cape: Cape Town metropolitan area (default, \sphinxhyphen{}34.2 to \sphinxhyphen{}33.8¬∞S, 18.2 to 19.0¬∞E)

\item {} 
\sphinxAtStartPar
custom: User\sphinxhyphen{}specified bounds (requires lat\_min, lat\_max, lon\_min, lon\_max)

\end{itemize}

\end{description}
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
HTML file response for direct download
\sphinxhyphen{} Otherwise: JSON with HTML content (if return\_html=True), generation statistics, and optional file save location (if save\_file=True)

\sphinxlineitem{Return type}
\sphinxAtStartPar
\begin{itemize}
\item {} 
\sphinxAtStartPar
If download=True

\end{itemize}


\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{region}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lat\_min}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lat\_max}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lon\_min}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{lon\_max}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{grid\_size}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{month}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{download}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}})

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{train\_xgboost\_model\_endpoint() (in module app.routers.predictions)@\spxentry{train\_xgboost\_model\_endpoint()}\spxextra{in module app.routers.predictions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.routers.predictions.train_xgboost_model_endpoint}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.routers.predictions.}}\sphinxbfcode{\sphinxupquote{train\_xgboost\_model\_endpoint}}}
{\sphinxparam{\DUrole{n}{save\_artifacts}\DUrole{o}{=}\DUrole{default_value}{Query(True)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{return\_metrics}\DUrole{o}{=}\DUrole{default_value}{Query(True)}}\sphinxparamcomma \sphinxparam{\DUrole{n}{limit\_rows}\DUrole{o}{=}\DUrole{default_value}{Query(0)}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Train the XGBoost model using the standardized pipeline and return training results.

\sphinxAtStartPar
This endpoint imports and executes the training script in models/xgboost/train\_model\_api.py,
running the full pipeline: data loading, model training (with GridSearchCV), evaluation, and artifact saving.
Key metrics and artifact locations are returned in the response.
\subsubsection*{Notes}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Training may take several minutes depending on data size and environment.

\item {} 
\sphinxAtStartPar
Use limit\_rows to subsample data for a faster, approximate run.

\end{itemize}
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{save\_artifacts}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{return\_metrics}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{limit\_rows}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}})

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\section{Services}
\label{\detokenize{api_reference:services}}

\subsection{GBIF Fetcher}
\label{\detokenize{api_reference:gbif-fetcher}}
\sphinxAtStartPar
GBIF API integration service for species occurrence data.
\index{module@\spxentry{module}!app.services.gbif\_fetcher@\spxentry{app.services.gbif\_fetcher}}\index{app.services.gbif\_fetcher@\spxentry{app.services.gbif\_fetcher}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.services.gbif_fetcher}}
\sphinxAtStartPar
GBIF Data Fetcher Service

\sphinxAtStartPar
Asynchronous service for fetching global occurrence data from GBIF API with
quality filtering, pagination, and error handling.

\sphinxAtStartPar
GBIF API: \sphinxurl{https://www.gbif.org/developer/occurrence}
\index{GBIFError@\spxentry{GBIFError}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFError}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{exception}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.gbif\_fetcher.}}\sphinxbfcode{\sphinxupquote{GBIFError}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/exceptions.html\#Exception}{\sphinxcode{\sphinxupquote{Exception}}}

\sphinxAtStartPar
Custom exception for GBIF API errors.

\end{fulllineitems}

\index{GBIFFetcher (class in app.services.gbif\_fetcher)@\spxentry{GBIFFetcher}\spxextra{class in app.services.gbif\_fetcher}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{class}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.gbif\_fetcher.}}\sphinxbfcode{\sphinxupquote{GBIFFetcher}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/functions.html\#object}{\sphinxcode{\sphinxupquote{object}}}

\sphinxAtStartPar
Asynchronous GBIF occurrence data fetcher with comprehensive error handling.

\sphinxAtStartPar
Supports:
\sphinxhyphen{} Global species occurrence retrieval
\sphinxhyphen{} Quality filtering (coordinate accuracy, date validation)
\sphinxhyphen{} Batch processing for large datasets
\sphinxhyphen{} Rate limiting and retry logic
\sphinxhyphen{} Progress tracking for large downloads
\index{\_\_aenter\_\_() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{\_\_aenter\_\_()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.__aenter__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aenter\_\_}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager entry.

\end{fulllineitems}

\index{\_\_aexit\_\_() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{\_\_aexit\_\_()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.__aexit__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aexit\_\_}}}
{\sphinxparam{\DUrole{n}{exc\_type}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_val}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_tb}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager exit.

\end{fulllineitems}

\index{\_\_init\_\_() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{\_\_init\_\_()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.__init__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\_\_init\_\_}}}
{}
{}
\pysigstopsignatures
\end{fulllineitems}

\index{fetch\_all\_occurrences() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{fetch\_all\_occurrences()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.fetch_all_occurrences}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{fetch\_all\_occurrences}}}
{\sphinxparam{\DUrole{n}{scientific\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{quality\_filters}\DUrole{o}{=}\DUrole{default_value}{True}}\sphinxparamcomma \sphinxparam{\DUrole{n}{date\_from}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{date\_to}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{country}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{coordinate\_uncertainty\_max}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{batch\_size}\DUrole{o}{=}\DUrole{default_value}{300}}\sphinxparamcomma \sphinxparam{\DUrole{n}{max\_records}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{progress\_callback}\DUrole{o}{=}\DUrole{default_value}{None}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Fetch all occurrences for a species with comprehensive filtering.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{scientific\_name}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}}) \textendash{} Scientific name of species

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{quality\_filters}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}}) \textendash{} Apply quality filters (coordinates, dates, etc.)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{date\_from}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}}) \textendash{} Start date (YYYY\sphinxhyphen{}MM\sphinxhyphen{}DD)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{date\_to}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}}) \textendash{} End date (YYYY\sphinxhyphen{}MM\sphinxhyphen{}DD)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{country}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}}) \textendash{} ISO country code (e.g., ‚ÄòZA‚Äô for South Africa)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{coordinate\_uncertainty\_max}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}{]}}) \textendash{} Max coordinate uncertainty in meters

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{batch\_size}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} Records per API request (max 300)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{max\_records}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}{]}}) \textendash{} Maximum total records to fetch

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{progress\_callback}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Callable}{\sphinxcode{\sphinxupquote{Callable}}}{]}}) \textendash{} Function to call with progress updates

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
List of occurrence records

\end{description}\end{quote}

\end{fulllineitems}

\index{fetch\_occurrences\_batch() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{fetch\_occurrences\_batch()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.fetch_occurrences_batch}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{fetch\_occurrences\_batch}}}
{\sphinxparam{\DUrole{n}{species\_key}}\sphinxparamcomma \sphinxparam{\DUrole{n}{offset}\DUrole{o}{=}\DUrole{default_value}{0}}\sphinxparamcomma \sphinxparam{\DUrole{n}{limit}\DUrole{o}{=}\DUrole{default_value}{300}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{filters}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Fetch a batch of occurrences with retry logic.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{species\_key}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} GBIF species key

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{offset}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} Record offset for pagination

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{limit}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} Number of records per batch (max 300)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{**filters}} \textendash{} Additional filter parameters

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
GBIF API response data

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_occurrence\_count() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{get\_occurrence\_count()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.get_occurrence_count}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{get\_occurrence\_count}}}
{\sphinxparam{\DUrole{n}{species\_key}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{filters}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Get total occurrence count for species with filters.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{species\_key}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} GBIF species key

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{**filters}} \textendash{} Additional filter parameters

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Total occurrence count

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_species\_key() (app.services.gbif\_fetcher.GBIFFetcher method)@\spxentry{get\_species\_key()}\spxextra{app.services.gbif\_fetcher.GBIFFetcher method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.gbif_fetcher.GBIFFetcher.get_species_key}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{get\_species\_key}}}
{\sphinxparam{\DUrole{n}{scientific\_name}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Get GBIF species key for scientific name.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{scientific\_name}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}}) \textendash{} Scientific name with authority (e.g., ‚ÄúPyracantha angustifolia (Franch.) C.K.Schneid.‚Äù)

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Species key (taxon ID) or None if not found

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\subsection{WorldClim Extractor}
\label{\detokenize{api_reference:worldclim-extractor}}
\sphinxAtStartPar
WorldClim v2.1 bioclimate variable extraction from GeoTIFF files.
\index{module@\spxentry{module}!app.services.worldclim\_extractor@\spxentry{app.services.worldclim\_extractor}}\index{app.services.worldclim\_extractor@\spxentry{app.services.worldclim\_extractor}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.services.worldclim_extractor}}
\sphinxAtStartPar
WorldClim Data Extractor

\sphinxAtStartPar
Extracts WorldClim v2.1 bioclimate data from GeoTIFF rasters with batch processing
and caching. Returns None when data are unavailable.
\index{WorldClimDataError@\spxentry{WorldClimDataError}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimDataError}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{exception}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.worldclim\_extractor.}}\sphinxbfcode{\sphinxupquote{WorldClimDataError}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/exceptions.html\#Exception}{\sphinxcode{\sphinxupquote{Exception}}}

\sphinxAtStartPar
Custom exception for WorldClim data errors.

\end{fulllineitems}

\index{WorldClimExtractor (class in app.services.worldclim\_extractor)@\spxentry{WorldClimExtractor}\spxextra{class in app.services.worldclim\_extractor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{class}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.worldclim\_extractor.}}\sphinxbfcode{\sphinxupquote{WorldClimExtractor}}}
{\sphinxparam{\DUrole{n}{data\_dir}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{resolution}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}10m\textquotesingle{}}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/functions.html\#object}{\sphinxcode{\sphinxupquote{object}}}

\sphinxAtStartPar
WorldClim data extractor for local raster files.

\sphinxAtStartPar
Extracts WorldClim v2.1 bioclimate data from local GeoTIFF files with
caching and batch processing support.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{data\_dir}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/pathlib.html\#pathlib.Path}{\sphinxcode{\sphinxupquote{Path}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{resolution}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}})

\end{itemize}

\end{description}\end{quote}
\index{\_\_aenter\_\_() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{\_\_aenter\_\_()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.__aenter__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aenter\_\_}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager entry.

\end{fulllineitems}

\index{\_\_aexit\_\_() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{\_\_aexit\_\_()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.__aexit__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aexit\_\_}}}
{\sphinxparam{\DUrole{n}{exc\_type}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_val}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_tb}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager exit.

\end{fulllineitems}

\index{\_\_init\_\_() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{\_\_init\_\_()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.__init__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\_\_init\_\_}}}
{\sphinxparam{\DUrole{n}{data\_dir}\DUrole{o}{=}\DUrole{default_value}{None}}\sphinxparamcomma \sphinxparam{\DUrole{n}{resolution}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}10m\textquotesingle{}}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Initialize the WorldClim data extractor.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{data\_dir}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/pathlib.html\#pathlib.Path}{\sphinxcode{\sphinxupquote{Path}}}{]}}) \textendash{} Directory to store downloaded WorldClim files

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{resolution}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}}) \textendash{} WorldClim resolution (‚Äú10m‚Äù, ‚Äú5m‚Äù, ‚Äú2.5m‚Äù, ‚Äú30s‚Äù)

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{check\_files\_exist() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{check\_files\_exist()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.check_files_exist}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{check\_files\_exist}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Check if all required WorldClim files exist in the data directory.
\begin{quote}\begin{description}
\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}}

\end{description}\end{quote}

\end{fulllineitems}

\index{extract\_climate\_batch() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{extract\_climate\_batch()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.extract_climate_batch}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{extract\_climate\_batch}}}
{\sphinxparam{\DUrole{n}{coordinates}}\sphinxparamcomma \sphinxparam{\DUrole{n}{bio\_variables}\DUrole{o}{=}\DUrole{default_value}{None}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Extract climate data for multiple coordinates efficiently.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{coordinates}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Tuple}{\sphinxcode{\sphinxupquote{Tuple}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}, \sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}{]}}) \textendash{} List of (latitude, longitude) tuples

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{bio\_variables}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}{]}}) \textendash{} List of bioclimate variables to extract

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
List of climate data dictionaries

\end{description}\end{quote}

\end{fulllineitems}

\index{extract\_climate\_data() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{extract\_climate\_data()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.extract_climate_data}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{extract\_climate\_data}}}
{\sphinxparam{\DUrole{n}{latitude}}\sphinxparamcomma \sphinxparam{\DUrole{n}{longitude}}\sphinxparamcomma \sphinxparam{\DUrole{n}{bio\_variables}\DUrole{o}{=}\DUrole{default_value}{None}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Extract real climate data for a single coordinate.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{latitude}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}) \textendash{} Latitude in decimal degrees

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{longitude}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}) \textendash{} Longitude in decimal degrees

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{bio\_variables}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}{]}}) \textendash{} List of bioclimate variables (e.g., {[}‚Äúbio1‚Äù, ‚Äúbio12‚Äù{]})

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Dictionary with extracted climate data or None values if unavailable

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_bio\_dir() (app.services.worldclim\_extractor.WorldClimExtractor method)@\spxentry{get\_bio\_dir()}\spxextra{app.services.worldclim\_extractor.WorldClimExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor.get_bio_dir}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{get\_bio\_dir}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Get the directory path for WorldClim bio files.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
Directory containing WorldClim bioclimate files

\sphinxlineitem{Return type}
\sphinxAtStartPar
Path

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{get\_worldclim\_extractor() (in module app.services.worldclim\_extractor)@\spxentry{get\_worldclim\_extractor()}\spxextra{in module app.services.worldclim\_extractor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.worldclim_extractor.get_worldclim_extractor}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxcode{\sphinxupquote{app.services.worldclim\_extractor.}}\sphinxbfcode{\sphinxupquote{get\_worldclim\_extractor}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Get or create the global WorldClim extractor instance.
\begin{quote}\begin{description}
\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{{\hyperref[\detokenize{api_reference:app.services.worldclim_extractor.WorldClimExtractor}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{WorldClimExtractor}}}}}}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Elevation Extractor}
\label{\detokenize{api_reference:elevation-extractor}}
\sphinxAtStartPar
SRTM 30m elevation data extraction via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API.
\index{module@\spxentry{module}!app.services.elevation\_extractor@\spxentry{app.services.elevation\_extractor}}\index{app.services.elevation\_extractor@\spxentry{app.services.elevation\_extractor}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.services.elevation_extractor}}
\sphinxAtStartPar
Elevation Data Extractor

\sphinxAtStartPar
Extracts SRTM 30m elevation data via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API with batch processing,
caching, and rate limiting. Returns None when data are unavailable.

\sphinxAtStartPar
Data Source: NASA SRTM via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API (\sphinxurl{https://www.opentopodata.org/})
Coverage: Global (60¬∞N to 60¬∞S)
\index{ElevationDataError@\spxentry{ElevationDataError}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationDataError}}
\pysigstartsignatures
\pysigline
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{exception}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.elevation\_extractor.}}\sphinxbfcode{\sphinxupquote{ElevationDataError}}}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/exceptions.html\#Exception}{\sphinxcode{\sphinxupquote{Exception}}}

\sphinxAtStartPar
Custom exception for elevation data errors.

\end{fulllineitems}

\index{ElevationExtractor (class in app.services.elevation\_extractor)@\spxentry{ElevationExtractor}\spxextra{class in app.services.elevation\_extractor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{class}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.elevation\_extractor.}}\sphinxbfcode{\sphinxupquote{ElevationExtractor}}}
{\sphinxparam{\DUrole{n}{base\_url}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://api.opentopodata.org/v1/srtm30m\textquotesingle{}}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Bases: \sphinxhref{https://docs.python.org/3/library/functions.html\#object}{\sphinxcode{\sphinxupquote{object}}}

\sphinxAtStartPar
Extract elevation data from SRTM digital elevation models.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{base\_url}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}})

\end{description}\end{quote}
\index{\_\_aenter\_\_() (app.services.elevation\_extractor.ElevationExtractor method)@\spxentry{\_\_aenter\_\_()}\spxextra{app.services.elevation\_extractor.ElevationExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor.__aenter__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aenter\_\_}}}
{}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager entry.

\end{fulllineitems}

\index{\_\_aexit\_\_() (app.services.elevation\_extractor.ElevationExtractor method)@\spxentry{\_\_aexit\_\_()}\spxextra{app.services.elevation\_extractor.ElevationExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor.__aexit__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{\_\_aexit\_\_}}}
{\sphinxparam{\DUrole{n}{exc\_type}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_val}}\sphinxparamcomma \sphinxparam{\DUrole{n}{exc\_tb}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Async context manager exit.

\end{fulllineitems}

\index{\_\_init\_\_() (app.services.elevation\_extractor.ElevationExtractor method)@\spxentry{\_\_init\_\_()}\spxextra{app.services.elevation\_extractor.ElevationExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor.__init__}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\_\_init\_\_}}}
{\sphinxparam{\DUrole{n}{base\_url}\DUrole{o}{=}\DUrole{default_value}{\textquotesingle{}https://api.opentopodata.org/v1/srtm30m\textquotesingle{}}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Initialize the elevation extractor.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{base\_url}} (\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}) \textendash{} Base URL for the Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API.

\end{description}\end{quote}

\end{fulllineitems}

\index{extract\_elevation() (app.services.elevation\_extractor.ElevationExtractor method)@\spxentry{extract\_elevation()}\spxextra{app.services.elevation\_extractor.ElevationExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor.extract_elevation}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{extract\_elevation}}}
{\sphinxparam{\DUrole{n}{latitude}}\sphinxparamcomma \sphinxparam{\DUrole{n}{longitude}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Extract elevation data for a single coordinate.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{latitude}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}) \textendash{} Latitude in decimal degrees

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{longitude}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}}) \textendash{} Longitude in decimal degrees

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Dictionary containing elevation data and metadata

\end{description}\end{quote}

\end{fulllineitems}

\index{extract\_elevation\_batch() (app.services.elevation\_extractor.ElevationExtractor method)@\spxentry{extract\_elevation\_batch()}\spxextra{app.services.elevation\_extractor.ElevationExtractor method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.elevation_extractor.ElevationExtractor.extract_elevation_batch}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{extract\_elevation\_batch}}}
{\sphinxparam{\DUrole{n}{coordinates}}\sphinxparamcomma \sphinxparam{\DUrole{n}{batch\_size}\DUrole{o}{=}\DUrole{default_value}{50}}}
{}
\pysigstopsignatures
\sphinxAtStartPar
Extract elevation data for multiple coordinates in batches.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{coordinates}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Tuple}{\sphinxcode{\sphinxupquote{Tuple}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}, \sphinxhref{https://docs.python.org/3/library/functions.html\#float}{\sphinxcode{\sphinxupquote{float}}}{]}{]}}) \textendash{} List of (latitude, longitude) tuples

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{batch\_size}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}}) \textendash{} Maximum coordinates per API request

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Dict}{\sphinxcode{\sphinxupquote{Dict}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}, \sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Any}{\sphinxcode{\sphinxupquote{Any}}}{]}{]}}

\sphinxlineitem{Returns}
\sphinxAtStartPar
List of elevation results in same order as input coordinates

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\subsection{ML Dataset Generator}
\label{\detokenize{api_reference:ml-dataset-generator}}
\sphinxAtStartPar
Generate ML\sphinxhyphen{}ready CSV datasets with environmental enrichment.
\index{module@\spxentry{module}!app.services.generate\_ml\_ready\_datasets@\spxentry{app.services.generate\_ml\_ready\_datasets}}\index{app.services.generate\_ml\_ready\_datasets@\spxentry{app.services.generate\_ml\_ready\_datasets}!module@\spxentry{module}}\phantomsection\label{\detokenize{api_reference:module-app.services.generate_ml_ready_datasets}}
\sphinxAtStartPar
Generate ML\sphinxhyphen{}ready datasets (global\_training\_ml\_ready.csv and local\_validation\_ml\_ready.csv)
without using the database. This module fetches GBIF occurrences directly, enriches them
with WorldClim climate variables and SRTM elevation, computes temporal features, and writes
the standardized 17\sphinxhyphen{}feature CSVs into the repository‚Äôs \sphinxtitleref{data/} folder (overwriting if they exist).
\begin{description}
\sphinxlineitem{Usage (from repo root):}
\sphinxAtStartPar
python \sphinxhyphen{}m app.services.generate\_ml\_ready\_datasets     \textendash{}max\sphinxhyphen{}global 2000 \textendash{}max\sphinxhyphen{}local 500 \textendash{}batch\sphinxhyphen{}size 100 \textendash{}verbose

\end{description}

\sphinxAtStartPar
Notes:
\sphinxhyphen{} Requires WorldClim GeoTIFFs under data/worldclim/ (must be pre\sphinxhyphen{}downloaded)
\sphinxhyphen{} Uses Open\sphinxhyphen{}Topo\sphinxhyphen{}Data for elevation via the elevation extractor (internet required)
\index{main() (in module app.services.generate\_ml\_ready\_datasets)@\spxentry{main()}\spxextra{in module app.services.generate\_ml\_ready\_datasets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.generate_ml_ready_datasets.main}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxcode{\sphinxupquote{app.services.generate\_ml\_ready\_datasets.}}\sphinxbfcode{\sphinxupquote{main}}}
{\sphinxparam{\DUrole{n}{argv}\DUrole{o}{=}\DUrole{default_value}{None}}}
{}
\pysigstopsignatures\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{argv}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}{]}})

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/constants.html\#None}{\sphinxcode{\sphinxupquote{None}}}}

\end{description}\end{quote}

\end{fulllineitems}

\index{parse\_args() (in module app.services.generate\_ml\_ready\_datasets)@\spxentry{parse\_args()}\spxextra{in module app.services.generate\_ml\_ready\_datasets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.generate_ml_ready_datasets.parse_args}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxcode{\sphinxupquote{app.services.generate\_ml\_ready\_datasets.}}\sphinxbfcode{\sphinxupquote{parse\_args}}}
{\sphinxparam{\DUrole{n}{argv}\DUrole{o}{=}\DUrole{default_value}{None}}}
{}
\pysigstopsignatures\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{argv}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.List}{\sphinxcode{\sphinxupquote{List}}}{[}\sphinxhref{https://docs.python.org/3/library/stdtypes.html\#str}{\sphinxcode{\sphinxupquote{str}}}{]}{]}})

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/argparse.html\#argparse.Namespace}{\sphinxcode{\sphinxupquote{Namespace}}}}

\end{description}\end{quote}

\end{fulllineitems}

\index{run() (in module app.services.generate\_ml\_ready\_datasets)@\spxentry{run()}\spxextra{in module app.services.generate\_ml\_ready\_datasets}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{api_reference:app.services.generate_ml_ready_datasets.run}}
\pysigstartsignatures
\pysiglinewithargsret
{\sphinxbfcode{\sphinxupquote{\DUrole{k}{async}\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{app.services.generate\_ml\_ready\_datasets.}}\sphinxbfcode{\sphinxupquote{run}}}
{\sphinxparam{\DUrole{n}{max\_global}}\sphinxparamcomma \sphinxparam{\DUrole{n}{max\_local}}\sphinxparamcomma \sphinxparam{\DUrole{n}{batch\_size}}\sphinxparamcomma \sphinxparam{\DUrole{n}{verbose}}}
{}
\pysigstopsignatures\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{max\_global}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{max\_local}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/typing.html\#typing.Optional}{\sphinxcode{\sphinxupquote{Optional}}}{[}\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}{]}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{batch\_size}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#int}{\sphinxcode{\sphinxupquote{int}}}})

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/functions.html\#bool}{\sphinxcode{\sphinxupquote{bool}}}})

\end{itemize}

\sphinxlineitem{Return type}
\sphinxAtStartPar
\DUrole{sphinx_autodoc_typehints-type}{\sphinxhref{https://docs.python.org/3/library/constants.html\#None}{\sphinxcode{\sphinxupquote{None}}}}

\end{description}\end{quote}

\end{fulllineitems}


\sphinxstepscope


\chapter{Architecture}
\label{\detokenize{architecture:architecture}}\label{\detokenize{architecture::doc}}

\section{System Overview}
\label{\detokenize{architecture:system-overview}}
\sphinxAtStartPar
The PRJ381 Species Distribution Modeling API follows a modular, stateless architecture designed for Docker deployment, horizontal scalability, and production readiness.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      GBIF       ‚îÇ    ‚îÇ   WorldClim     ‚îÇ    ‚îÇ  Open\PYGZhy{}Topo\PYGZhy{}Data ‚îÇ
‚îÇ    Database     ‚îÇ    ‚îÇ   GeoTIFFs      ‚îÇ    ‚îÇ   SRTM API      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚ñº                        ‚ñº                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  FastAPI Application                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ   Status    ‚îÇ ‚îÇEnvironmental‚îÇ ‚îÇ  Datasets   ‚îÇ ‚îÇ Predictions ‚îÇ‚îÇ
‚îÇ  ‚îÇ   Router    ‚îÇ ‚îÇ   Router    ‚îÇ ‚îÇ   Router    ‚îÇ ‚îÇ   Router    ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ                     Services Layer                          ‚îÇ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    GBIF     ‚îÇ ‚îÇ  WorldClim  ‚îÇ ‚îÇ       Elevation         ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   Fetcher   ‚îÇ ‚îÇ  Extractor  ‚îÇ ‚îÇ       Extractor         ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ                     Data Layer                              ‚îÇ‚îÇ
‚îÇ  ‚îÇ  CSV Exports: global\PYGZus{}training.csv, local\PYGZus{}validation.csv     ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\end{sphinxVerbatim}


\section{Components}
\label{\detokenize{architecture:components}}

\subsection{API Layer}
\label{\detokenize{architecture:api-layer}}\begin{description}
\sphinxlineitem{\sphinxstylestrong{FastAPI Framework}}\begin{itemize}
\item {} 
\sphinxAtStartPar
High\sphinxhyphen{}performance async web framework

\item {} 
\sphinxAtStartPar
Automatic API documentation generation

\item {} 
\sphinxAtStartPar
Type hints and validation

\item {} 
\sphinxAtStartPar
OpenAPI/Swagger integration

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Router Architecture}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Modular endpoint organization

\item {} 
\sphinxAtStartPar
Separation of concerns

\item {} 
\sphinxAtStartPar
Consistent error handling

\item {} 
\sphinxAtStartPar
RESTful design principles

\end{itemize}

\end{description}


\subsection{Services Layer}
\label{\detokenize{architecture:services-layer}}\begin{description}
\sphinxlineitem{\sphinxstylestrong{GBIF Fetcher Service} (\sphinxcode{\sphinxupquote{gbif\_fetcher.py}})}\begin{itemize}
\item {} 
\sphinxAtStartPar
Async HTTP client for GBIF occurrence API

\item {} 
\sphinxAtStartPar
Quality filtering and coordinate validation

\item {} 
\sphinxAtStartPar
Pagination and batch processing

\item {} 
\sphinxAtStartPar
Species\sphinxhyphen{}specific and geographic filtering

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{WorldClim Extractor Service} (\sphinxcode{\sphinxupquote{worldclim\_extractor.py}})}\begin{itemize}
\item {} 
\sphinxAtStartPar
Rasterio\sphinxhyphen{}based GeoTIFF reading

\item {} 
\sphinxAtStartPar
Batch coordinate sampling

\item {} 
\sphinxAtStartPar
8 bioclimate variable extraction (bio1, bio4\sphinxhyphen{}6, bio12\sphinxhyphen{}15)

\item {} 
\sphinxAtStartPar
Missing data handling (returns None)

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Elevation Extractor Service} (\sphinxcode{\sphinxupquote{elevation\_extractor.py}})}\begin{itemize}
\item {} 
\sphinxAtStartPar
Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API integration

\item {} 
\sphinxAtStartPar
SRTM 30m elevation data

\item {} 
\sphinxAtStartPar
Rate limiting (1\sphinxhyphen{}second delays)

\item {} 
\sphinxAtStartPar
Batch processing with error handling

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Dataset Generator Service} (\sphinxcode{\sphinxupquote{generate\_ml\_ready\_datasets.py}})}\begin{itemize}
\item {} 
\sphinxAtStartPar
ML\sphinxhyphen{}ready CSV generation

\item {} 
\sphinxAtStartPar
13\sphinxhyphen{}feature standardized format

\item {} 
\sphinxAtStartPar
Transfer learning dataset creation

\item {} 
\sphinxAtStartPar
Progress tracking and logging

\end{itemize}

\end{description}


\subsection{Data Layer}
\label{\detokenize{architecture:data-layer}}
\sphinxAtStartPar
\sphinxstylestrong{CSV Export Format}

\sphinxAtStartPar
ML\sphinxhyphen{}ready datasets with 13 standardized features:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
latitude,longitude,elevation,bio1,bio4,bio5,bio6,bio12,bio13,bio14,bio15,month\PYGZus{}sin,month\PYGZus{}cos
\PYGZhy{}33.9249,18.4073,245.0,16.8,574.2,25.3,9.1,515.0,79.0,15.0,48.2,0.5,0.866
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxstylestrong{Feature Descriptions:}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{latitude}}: Decimal degrees (\sphinxhyphen{}90 to 90)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{longitude}}: Decimal degrees (\sphinxhyphen{}180 to 180)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{elevation}}: Meters above sea level (SRTM 30m)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio1}}: Annual mean temperature (¬∞C √ó 10)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio4}}: Temperature seasonality (std dev √ó 100)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio5}}: Max temperature of warmest month (¬∞C √ó 10)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio6}}: Min temperature of coldest month (¬∞C √ó 10)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio12}}: Annual precipitation (mm)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio13}}: Precipitation of wettest month (mm)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio14}}: Precipitation of driest month (mm)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{bio15}}: Precipitation seasonality (coefficient of variation)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{month\_sin/cos}}: Temporal encoding (0\sphinxhyphen{}1)

\end{itemize}


\section{Data Flow}
\label{\detokenize{architecture:data-flow}}

\subsection{Environmental Data Pipeline}
\label{\detokenize{architecture:environmental-data-pipeline}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Coordinate Input}: Client provides latitude/longitude pairs

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{WorldClim Extraction}: Rasterio samples 8 bioclimate variables from GeoTIFFs

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Elevation Extraction}: Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API fetches SRTM elevation (with rate limiting)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Data Validation}: Checks for None/NaN values, validates ranges

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Response}: Returns enriched environmental data

\end{enumerate}


\subsection{ML\sphinxhyphen{}Ready Dataset Generation}
\label{\detokenize{architecture:ml-ready-dataset-generation}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{GBIF Data Loading}: Load occurrence records (global or local subset)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Coordinate Extraction}: Extract unique latitude/longitude pairs

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Batch Processing}: Process coordinates in batches (default 100)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Environmental Enrichment}: Add climate + elevation data

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Feature Engineering}: Add temporal encoding (month\_sin, month\_cos)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{CSV Export}: Write to \sphinxcode{\sphinxupquote{data/global\_training\_ml\_ready.csv}} and \sphinxcode{\sphinxupquote{data/local\_validation\_ml\_ready.csv}}

\end{enumerate}


\subsection{Prediction Heatmap Generation}
\label{\detokenize{architecture:prediction-heatmap-generation}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Grid Creation}: Generate lat/lon grid for target region

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Real\sphinxhyphen{}Time Enrichment}: Extract environmental data for each grid point

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Model Inference}: XGBoost predicts invasion probability

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Visualization}: Create Folium heatmap with stats panel

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Export}: Return HTML for display or download

\end{enumerate}


\section{Async Architecture}
\label{\detokenize{architecture:async-architecture}}

\subsection{Concurrency Model}
\label{\detokenize{architecture:concurrency-model}}
\sphinxAtStartPar
The application uses Python‚Äôs \sphinxcode{\sphinxupquote{asyncio}} for high\sphinxhyphen{}performance concurrent processing:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Concurrent weather data fetching}
\PYG{k}{async} \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf}{fetch\PYGZus{}weather\PYGZus{}for\PYGZus{}observations}\PYG{p}{(}\PYG{n}{observations}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{tasks} \PYG{o}{=} \PYG{p}{[}\PYG{n}{fetch\PYGZus{}weather}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{)} \PYG{k}{for} \PYG{n}{obs} \PYG{o+ow}{in} \PYG{n}{observations}\PYG{p}{]}
    \PYG{n}{results} \PYG{o}{=} \PYG{k}{await} \PYG{n}{asyncio}\PYG{o}{.}\PYG{n}{gather}\PYG{p}{(}\PYG{o}{*}\PYG{n}{tasks}\PYG{p}{,} \PYG{n}{return\PYGZus{}exceptions}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
    \PYG{k}{return} \PYG{p}{[}\PYG{n}{r} \PYG{k}{for} \PYG{n}{r} \PYG{o+ow}{in} \PYG{n}{results} \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{r}\PYG{p}{,} \PYG{n+ne}{Exception}\PYG{p}{)}\PYG{p}{]}
\end{sphinxVerbatim}
\begin{description}
\sphinxlineitem{Benefits:}\begin{itemize}
\item {} 
\sphinxAtStartPar
3\sphinxhyphen{}5x performance improvement over synchronous processing

\item {} 
\sphinxAtStartPar
Efficient resource utilization

\item {} 
\sphinxAtStartPar
Non\sphinxhyphen{}blocking I/O operations

\item {} 
\sphinxAtStartPar
Scalable request handling

\end{itemize}

\end{description}


\subsection{Error Handling Strategy}
\label{\detokenize{architecture:error-handling-strategy}}\begin{description}
\sphinxlineitem{\sphinxstylestrong{Graceful Degradation}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Continue processing valid records when some fail

\item {} 
\sphinxAtStartPar
Comprehensive logging for debugging

\item {} 
\sphinxAtStartPar
Detailed error responses with context

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Retry Logic}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Automatic retry for transient failures

\item {} 
\sphinxAtStartPar
Exponential backoff for rate\sphinxhyphen{}limited APIs

\item {} 
\sphinxAtStartPar
Circuit breaker pattern for external services

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{Data Validation}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Input validation at API boundaries

\item {} 
\sphinxAtStartPar
Schema validation for external API responses

\item {} 
\sphinxAtStartPar
Data quality checks throughout pipeline

\end{itemize}

\end{description}


\section{Scalability Considerations}
\label{\detokenize{architecture:scalability-considerations}}

\subsection{Horizontal Scaling}
\label{\detokenize{architecture:horizontal-scaling}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Stateless Design}: No server\sphinxhyphen{}side session state

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{File\sphinxhyphen{}based Storage}: CSV exports for distributed processing

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Load Balancing}: Multiple FastAPI instances behind load balancer

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Caching Layer}: WorldClim extraction results cache

\end{itemize}


\subsection{Vertical Scaling}
\label{\detokenize{architecture:vertical-scaling}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Async Processing}: Efficient CPU and memory utilization with asyncio

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Batch Processing}: Large coordinate sets processed in chunks

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Memory Management}: Streaming processing for large datasets

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Resource Monitoring}: Performance metrics and alerting

\end{itemize}


\section{Security Architecture}
\label{\detokenize{architecture:security-architecture}}

\subsection{API Security}
\label{\detokenize{architecture:api-security}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Input Validation}: Comprehensive parameter validation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Rate Limiting}: Protection against abuse

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Error Sanitization}: No sensitive data in error responses

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{HTTPS Enforcement}: Secure communication protocols

\end{itemize}


\subsection{Data Security}
\label{\detokenize{architecture:data-security}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{File System Access Control}: Protected WorldClim data directory

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Data Encryption}: Encrypted data transmission via HTTPS

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Audit Logging}: Comprehensive access and operation logging

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Backup Strategy}: Version\sphinxhyphen{}controlled datasets and model files

\end{itemize}


\section{Deployment Architecture}
\label{\detokenize{architecture:deployment-architecture}}

\subsection{Development Environment}
\label{\detokenize{architecture:development-environment}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Local development setup}
uvicorn\PYG{+w}{ }app.main:app\PYG{+w}{ }\PYGZhy{}\PYGZhy{}reload\PYG{+w}{ }\PYGZhy{}\PYGZhy{}port\PYG{+w}{ }\PYG{l+m}{8000}
\end{sphinxVerbatim}


\subsection{Production Environment}
\label{\detokenize{architecture:production-environment}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Docker Compose example}
\PYG{n+nt}{version}\PYG{p}{:}\PYG{+w}{ }\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3.8}\PYG{l+s}{\PYGZsq{}}
\PYG{n+nt}{services}\PYG{p}{:}
\PYG{+w}{  }\PYG{n+nt}{api}\PYG{p}{:}
\PYG{+w}{    }\PYG{n+nt}{build}\PYG{p}{:}\PYG{+w}{ }\PYG{l+lScalar+lScalarPlain}{.}
\PYG{+w}{    }\PYG{n+nt}{ports}\PYG{p}{:}
\PYG{+w}{      }\PYG{p+pIndicator}{\PYGZhy{}}\PYG{+w}{ }\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{8000:8000}\PYG{l+s}{\PYGZdq{}}
\PYG{+w}{    }\PYG{n+nt}{volumes}\PYG{p}{:}
\PYG{+w}{      }\PYG{p+pIndicator}{\PYGZhy{}}\PYG{+w}{ }\PYG{l+lScalar+lScalarPlain}{./data:/app/data}
\PYG{+w}{      }\PYG{p+pIndicator}{\PYGZhy{}}\PYG{+w}{ }\PYG{l+lScalar+lScalarPlain}{./models:/app/models}
\PYG{+w}{    }\PYG{n+nt}{environment}\PYG{p}{:}
\PYG{+w}{      }\PYG{p+pIndicator}{\PYGZhy{}}\PYG{+w}{ }\PYG{l+lScalar+lScalarPlain}{WORLDCLIM\PYGZus{}PATH=/app/data/worldclim/}
\PYG{+w}{      }\PYG{p+pIndicator}{\PYGZhy{}}\PYG{+w}{ }\PYG{l+lScalar+lScalarPlain}{LOG\PYGZus{}LEVEL=INFO}
\end{sphinxVerbatim}


\subsection{Monitoring and Observability}
\label{\detokenize{architecture:monitoring-and-observability}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Health Checks}: Endpoint monitoring and service health

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Metrics Collection}: Performance and usage metrics

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Log Aggregation}: Centralized logging and analysis

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Alerting}: Automated alerts for failures and performance issues

\end{itemize}


\chapter{Documentation Types}
\label{\detokenize{index:documentation-types}}
\sphinxAtStartPar
This project provides multiple types of documentation to serve different needs:
\begin{description}
\sphinxlineitem{\sphinxstylestrong{For API Users}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Interactive API Documentation}: \sphinxhref{http://localhost:8000/docs/docs}{Swagger UI} \sphinxhyphen{} Try endpoints directly in your browser

\end{itemize}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Alternative API Documentation}: \sphinxhref{http://localhost:8000/redoc/redoc}{ReDoc} \sphinxhyphen{} Clean, responsive API reference

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{User Guide}: {\hyperref[\detokenize{user_guide::doc}]{\sphinxcrossref{\DUrole{doc}{User Guide}}}} \sphinxhyphen{} Step\sphinxhyphen{}by\sphinxhyphen{}step usage examples

\end{itemize}

\sphinxlineitem{\sphinxstylestrong{For Developers}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{API Reference}: {\hyperref[\detokenize{api_reference::doc}]{\sphinxcrossref{\DUrole{doc}{API Reference}}}} \sphinxhyphen{} Complete code documentation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Architecture Guide}: {\hyperref[\detokenize{architecture::doc}]{\sphinxcrossref{\DUrole{doc}{Architecture}}}} \sphinxhyphen{} System design and components

\end{itemize}

\end{description}

\begin{sphinxadmonition}{tip}{Tip:}
\sphinxAtStartPar
\sphinxstylestrong{Quick Start}: If you just want to try the API, head to the \sphinxhref{http://localhost:8000/docs/docs}{interactive documentation} and start making requests!
\end{sphinxadmonition}


\chapter{Overview}
\label{\detokenize{index:overview}}
\sphinxAtStartPar
This microservice provides:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{GBIF API Integration}: Global species occurrence data collection and management

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{WorldClim Integration}: Real climate data extraction from v2.1 bioclimate variables (8 variables)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{SRTM Elevation Data}: Topographic enrichment via Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API (30m resolution)

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{CSV Export}: File\sphinxhyphen{}based ML\sphinxhyphen{}ready datasets for training and validation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{FastAPI REST API}: Modern, async REST endpoints with automatic documentation

\item {} \begin{description}
\sphinxlineitem{\sphinxstylestrong{XGBoost Model}: Invasion risk prediction and interactive probability heatmap}
\sphinxAtStartPar
with hover tooltips, click popups, top\sphinxhyphen{}5 risk hotspots, and a Google Maps navigation button

\end{description}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Transfer Learning Support}: Global training datasets for local model validation

\end{itemize}

\sphinxAtStartPar
The service is designed for creating high\sphinxhyphen{}quality training datasets for species distribution modeling and invasion risk assessment.


\chapter{Data provenance and sources}
\label{\detokenize{index:data-provenance-and-sources}}
\sphinxAtStartPar
This API uses environmental and species data from known public datasets:
\begin{itemize}
\item {} 
\sphinxAtStartPar
WorldClim v2.1 for bioclimate variables

\item {} 
\sphinxAtStartPar
SRTM elevation via the Open\sphinxhyphen{}Topo\sphinxhyphen{}Data API

\item {} 
\sphinxAtStartPar
GBIF for species occurrence records

\end{itemize}


\chapter{Quick Start}
\label{\detokenize{index:quick-start}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Install Dependencies}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{pip} \PYG{n}{install} \PYG{o}{\PYGZhy{}}\PYG{n}{r} \PYG{n}{requirements}\PYG{o}{.}\PYG{n}{txt}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Download WorldClim Data}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Place GeoTIFF files in data/worldclim/ directory}
\PYG{c+c1}{\PYGZsh{} Required: wc2.1\PYGZus{}10m\PYGZus{}bio\PYGZus{}1.tif, bio\PYGZus{}4\PYGZhy{}6, bio\PYGZus{}12\PYGZhy{}15}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Run the API}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{uvicorn} \PYG{n}{app}\PYG{o}{.}\PYG{n}{main}\PYG{p}{:}\PYG{n}{app} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{reload}
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Build Documentation}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{python} \PYG{n}{build\PYGZus{}docs}\PYG{o}{.}\PYG{n}{py} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{serve} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n+nb}{open}
\end{sphinxVerbatim}

\end{enumerate}


\chapter{API Workflow}
\label{\detokenize{index:api-workflow}}
\sphinxAtStartPar
Follow this sequence for optimal results:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{System Status}: \sphinxtitleref{GET /api/v1/status/health} \sphinxhyphen{} Verify system health and WorldClim files

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Environmental Data}: \sphinxtitleref{POST /api/v1/environmental/extract\sphinxhyphen{}batch} \sphinxhyphen{} Extract climate + elevation

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Dataset Creation}: \sphinxtitleref{POST /api/v1/datasets/generate\sphinxhyphen{}ml\sphinxhyphen{}ready} \sphinxhyphen{} Create enriched CSV datasets

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Predictions}: \sphinxtitleref{GET /api/v1/predictions/heatmap} \sphinxhyphen{} Generate invasion risk heatmaps

\end{enumerate}

\begin{sphinxadmonition}{note}{Note:}
\sphinxAtStartPar
When running locally, the API will be available at \sphinxurl{http://localhost:8000}

\sphinxAtStartPar
The documentation will be built and served automatically using the universal build script.

\sphinxAtStartPar
For manual builds:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Build only}
\PYG{n}{python} \PYG{n}{build\PYGZus{}docs}\PYG{o}{.}\PYG{n}{py}

\PYG{c+c1}{\PYGZsh{} Clean build and serve}
\PYG{n}{python} \PYG{n}{build\PYGZus{}docs}\PYG{o}{.}\PYG{n}{py} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{clean} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{serve}
\end{sphinxVerbatim}
\end{sphinxadmonition}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref}{\DUrole{std}{\DUrole{std-ref}{genindex}}}

\item {} 
\sphinxAtStartPar
\DUrole{xref}{\DUrole{std}{\DUrole{std-ref}{modindex}}}

\item {} 
\sphinxAtStartPar
\DUrole{xref}{\DUrole{std}{\DUrole{std-ref}{search}}}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{a}
\item\relax\sphinxstyleindexentry{app.main}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.main}}
\item\relax\sphinxstyleindexentry{app.routers.datasets}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.routers.datasets}}
\item\relax\sphinxstyleindexentry{app.routers.environmental}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.routers.environmental}}
\item\relax\sphinxstyleindexentry{app.routers.predictions}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.routers.predictions}}
\item\relax\sphinxstyleindexentry{app.routers.status}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.routers.status}}
\item\relax\sphinxstyleindexentry{app.services.elevation\_extractor}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.services.elevation_extractor}}
\item\relax\sphinxstyleindexentry{app.services.gbif\_fetcher}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.services.gbif_fetcher}}
\item\relax\sphinxstyleindexentry{app.services.generate\_ml\_ready\_datasets}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.services.generate_ml_ready_datasets}}
\item\relax\sphinxstyleindexentry{app.services.worldclim\_extractor}\sphinxstyleindexpageref{api_reference:\detokenize{module-app.services.worldclim_extractor}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}